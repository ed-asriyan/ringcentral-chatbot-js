<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      // Hack for scrolling window when linking to anchor tag with fixed nav header
      var shiftWindow = function() { scrollBy(0, -75) };
      window.addEventListener("hashchange", shiftWindow);
      function load() { if (window.location.hash) shiftWindow(); }
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://ringcentral.github.io/ringcentral-chatbot-js/developers/bots/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    
    <title>Building Bots - RingCentral Chatbot Framework for Javascript</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/code-styles.css" rel="stylesheet">
    <link href="../../css/mega-menu.css" rel="stylesheet">
    <link href="../../css/code-tabs.css" rel="stylesheet">
    <link href="../../css/admonition.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="../../fonts.js"></script> 
  </head>
  
  <body class="" data-spy="scroll" data-target="#toc">
    <nav class="navbar navbar-expand-md navbar-light sticky-top">
  <div class="container">
    <a class="navbar-brand" href="../..">
      <img src="../../logo_beta.svg" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav mr-auto mx-auto">
        <li id="products-dropdown" class="main-item nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
          <div id="mega-menu-products" class="dropdown-menu mega-menu" role="menu" aria-labelledby="navbarDropdown">
	    <div class="row">
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">APIs</li>
                  <li><a href="https://developer.ringcentral.com/api-products/voice">Voice</a></li>
                  <li><a href="https://developer.ringcentral.com/api-products/sms">SMS</a></li>
                  <li><a href="https://developer.ringcentral.com/api-products/fax">Fax</a></li>
                  <li><a href="https://developer.ringcentral.com/api-products/team-messaging">Chat</a></li>
                  <li><a href="https://developer.ringcentral.com/api-products/meetings">Meetings</a></li>
                  <li><a href="https://developer.ringcentral.com/api-products/data">Call Log</a></li>
<!-- TODO: Change "Configuration" to "Account"?
                  <li><a href="https://developer.ringcentral.com/api-products/configuration">Configuration</a></li>
-->
                </ul>
              </div>
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">Widgets</li>
                  <li><a href="https://developer.ringcentral.com/embeddable-voice.html">RingCentral Embeddable</a></li>
                </ul>
                <ul>
                  <li class="sub-menu-heading">Bots</li>
                  <li><a href="https://developer.ringcentral.com/library/chatbots.html">SMS Bot Framework</a></li>
                  <li><a href="https://developer.ringcentral.com/library/chatbots.html">Chat Bot Framework</a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <img src="https://images.ctfassets.net/up8h5u10ttz3/69wfSTqwkowM2ySYouo2qU/da9f91e31b1a4266552181e29e9938db/platformsignup.png" width="100%">
              </div>
	    </div> 
          </div>
        </li>
        <li class="main-item nav-item dropdown" id="resources-dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
          <div id="mega-menu-resources" class="dropdown-menu mega-menu" aria-labelledby="navbarDropdown">
	    <div class="row">
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">Docs</li>
                  <li><a href="../../get-started/">Getting Started</a></li>
                  <li><a href="../..">Developer Guide</a></li>
                  <li><a href="http://ringcentral-api-changelog.readthedocs.io/en/latest/">Changelog</a></li>
                </ul>
<!--
		<ul>
                  <li class="sub-menu-heading">Downloads</li>
                  <li><a href="https://developer.ringcentral.com/library/sdks.html#">SDKs</a></li>
		</ul>
-->
                <ul>
                  <li class="sub-menu-heading">Use Cases</li>
                  <li><a href="https://www.ringcentral.com/whyringcentral/casestudies.html?integrations=API">Case Studies</a></li>
                  <li><a href="https://www.ringcentral.com/resources/learning-center.html#whitepapers">White papers</a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">API Reference</li>
                  <li><a href="https://developer.ringcentral.com/api-reference#Call-Log">Call Log</a></li>
                  <li><a href="https://developer.ringcentral.com/api-reference#RingOut">RingOut</a></li>
                  <li><a href="https://developer.ringcentral.com/api-reference#SMS-and-MMS">SMS</a></li>
                  <li><a href="https://developer.ringcentral.com/api-reference#Chats">Glip</a></li>
                  <li><a href="https://developer.ringcentral.com/api-reference#Upcoming-Meetings">Meetings</a></li>
                  <li><a href="https://developer.ringcentral.com/api-reference#Fax">Fax</a></li>
		  <li></li>
                  <li><a class="mega-menu-link" href="https://developer.ringcentral.com/api-reference">API Explorer &raquo;</a></li>
                </ul>
              </div>
              <div class="col-md-2">
                <ul>
                  <li class="sub-menu-heading">SDKs</li>
                  <li><a href="https://github.com/ringcentral/ringcentral-csharp-client">C#</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-swift">iOS/Swift</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-js">Javascript</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-java">Java</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-php">PHP</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-python">Python</a></li>
                  <li><a href="https://github.com/ringcentral/ringcentral-ruby">Ruby</a></li>
		  <li></li>
                  <li><a class="mega-menu-link" href="https://developer.ringcentral.com/library/sdks.html">All SDKs &raquo;</a></li>
                </ul>
              </div>
              <div class="col-md-4">
                <img src="https://images.ctfassets.net/up8h5u10ttz3/29HlpFhK362Y00MseE8Oek/2a401f3ca6a6fa32cdf95104cebdc728/award2.png" width="100%">
              </div>
	    </div> 
          </div>
        </li>
        <li class="main-item nav-item dropdown" id="community-dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community</a>
          <div id="mega-menu-community" class="dropdown-menu mega-menu" aria-labelledby="navbarDropdown">
	    <div class="row">
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">Discuss</li>
                  <li><a href="https://devcommunity.ringcentral.com/">Developer Forum</a></li>
                  <li><a href="http://stackoverflow.com/questions/tagged/ringcentral">Stack Overflow</a></li>
                  <li><a href="https://developer.ringcentral.com/community.html">Glip</a></li>
                </ul>
                <ul>
                  <li class="sub-menu-heading">Learn</li>
                  <li><a href="https://medium.com/ringcentral-developers">Blog</a></li>
                  <li><a href="https://developer.ringcentral.com/support/developer-events.html">Events</a></li>
                  <li><a href="https://go.ringcentral.com/Developer-Webinar-Series-Registration.html">Webinars</a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <ul>
                  <li class="sub-menu-heading">Partner</li>
                  <li><a href="https://www.ringcentral.com/apps/">App Gallery</a></li>
                  <li><a href="https://www.ringcentral.com/partner/isv.html">Partner Programs</a></li>
                </ul>
                <ul>
                  <li class="sub-menu-heading">Follow</li>
                  <li><a href="https://twitter.com/RingCentralDevs">Twitter</a></li>
                  <li><a href="https://github.com/ringcentral/">Github</a></li>
                  <li><a href="https://www.youtube.com/watch?v=H4n-7dBFTEc&list=PLpfipw7KaEwagUy8S4Za25usqFg4bWiAx">YouTube</a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <img src="https://images.ctfassets.net/up8h5u10ttz3/29HlpFhK362Y00MseE8Oek/2a401f3ca6a6fa32cdf95104cebdc728/award2.png" width="100%">
              </div>
	    </div> 
          </div>
        </li>
        <li class="main-item nav-item dropdown" id="support-dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Support</a>
          <div id="mega-menu-support" class="dropdown-menu mega-menu" aria-labelledby="navbarDropdown">
	    <div class="row">
              <div class="col-md-6">
                <ul>
                  <li class="sub-menu-heading">Support</li>
                  <li><a href="http://ringcentral-faq.readthedocs.io/">FAQs</a></li>
                  <li><a href="https://devcommunity.ringcentral.com/">Developer Forum</a></li>
                  <li><a href="#">Create a ticket</a></li>
                  <li><a href="#">View your tickets</a></li>
                </ul>
                <ul>
                  <li class="sub-menu-heading">Professional Services</li>
                  <li><a href="https://developer.ringcentral.com/support/services.html">Let us build the perfect app for you</a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <img src="https://images.ctfassets.net/up8h5u10ttz3/1nEecYNk3CeSYKCUMyWOUk/57ab94c71c56819a3ae2021a3ad75138/pro_services.png" width="100%">
              </div>
	    </div> 
          </div>
        </li>
      </ul>
      
      <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
	    <i class="fa fa-search"></i> Search
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ringcentral/ringcentral-chatbot-js/edit/master/docs/developers/bots.md"><i class="fa fa-github"></i> Edit on GitHub</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content"class="container">
      
    <div class="row">
      <div id="sidebar-nav" class="sidebar col-md-3"><nav id="sidenav" class="navbar navbar-default navbar-expand-md navbar-dark" role="navigation">
  <a class="navbar-brand d-block d-md-none d-xl-none" href="#"><i class="fa fa-home fa-fw"></i> Table of Contents</a>
  <button class="navbar-toggler ml-auto hidden-sm-up float-xs-right" type="button" data-toggle="collapse" data-target="#sidebar-navbar-collapse" aria-controls="sidebar-navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="sidebar-navbar-collapse">
    <!-- Main navigation -->
    <ul class="nav navbar-nav flex-column">
      <li >
        <a class="nav-link" href="../..">Home</a>
      </li>
      <li >
        <a class="nav-link" href="../get-started/">Getting Started</a>
      </li>
      <li class="active">
        <a class="nav-link" href="./">Building Bots</a>
      </li>
      <li >
        <a class="nav-link" href="../structure/">Project Structure</a>
      </li>
      <li >
        <a class="nav-link" href="../lambda/">Deploying to AWS Lambda</a>
      </li>
      <li >
        <a class="nav-link" href="../skills/">Developing "Skills"</a>
      </li>
      <li >
        <a class="nav-link" href="../maintain/">Bot Maintenance</a>
      </li>
      <li >
        <a class="nav-link" href="../../samples/">Sample Bots</a>
      </li>
      <li >
        <a class="nav-link" href="../../about/">About</a>
      </li>
    </ul>
  </div>
</nav>
</div>
      <div id="main" class="col-md-7" role="main">



<h1 id="building-bots">Building Bots</h1>
<h2 id="sending-messages">Sending Messages</h2>
<p>Every event handler receives as input a <code>bot</code> object. That object can then be used to send messages. For example:</p>
<div class="codehilite"><pre><span></span><span class="nx">bot</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">group</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Hello World&#39;</span> <span class="p">})</span>
</pre></div>

<p>In the above example the bot responds with simple text only. Bots can also respond with more formatted messages, which is achieved through the use of a message attachment. The RingCentral Developer Guide discussed <a href="https://developers.ringcentral.com/guide/team-messaging/manual/attachments">message attachments</a> in more detail. </p>
<h2 id="event-handling">Event Handling</h2>
<p>A bot handler takes as input an "event." Based on the type of the event, you can trigger different actions and behaviors. Here is a simple switch statement for handling different events:</p>
<div class="codehilite"><pre><span></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">handle</span> <span class="o">=</span> <span class="nx">async</span> <span class="nx">event</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span><span class="p">)</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">&#39;Message4Bot&#39;</span><span class="o">:</span>
    <span class="k">break</span>
    <span class="k">case</span> <span class="s1">&#39;BotJoinGroup&#39;</span><span class="o">:</span> <span class="c1">// bot user joined a new group</span>
    <span class="k">break</span>
    <span class="k">default</span><span class="o">:</span>
    <span class="k">break</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h3 id="event-types">Event Types</h3>
<table class="table">
<thead>
<tr>
<th scope="col">Event</th>
<th scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Message4Bot</code></td>
<td>Triggered when a message is posted to a team/conversation the bot belongs to. <strong>This event is NOT triggered for messages posted by the bot, to prevent the bot from responding to itself.</strong></td>
</tr>
<tr>
<td><code>BotRemoved</code></td>
<td>Trigger when a bot is removed from a team/conversation.</td>
</tr>
<tr>
<td><code>BotJoinGroup</code></td>
<td>Trigger when a bot joins a team/conversation.</td>
</tr>
</tbody>
</table>
<h3 id="message4bot">Message4Bot</h3>
<p>When the Message4Bot event is triggered, the following parameters are passed to the handler:</p>
<ul>
<li><code>text</code> - The text/message posted. This should be parsed by the handler to determine what action to perform.</li>
<li><code>group</code> - A group object representing the group/team/conversion the message was posted to. </li>
<li><code>bot</code> - A bot object representing the bot receiving the message. </li>
<li><code>userId</code> - The id of the user who sent the message. </li>
</ul>

<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
  <li class="last-updated-holder displayDate loading">
    <span class="last-updated-text">Last updated:</span>
    <time role="presentation" datetime="2018-10-25T00:00:00.000Z" data-article-date-source="ms.date"></time>
  </li>
<!--
  <li class="readingTime">
    2 minutes to read
  </li>
-->
  <li class="contributors-holder">
    <span class="contributors-text">Contributors</span>
    <ul class="contributors" data-bi-name="contributors"></ul>
  </li>
</ul>
</div>
      <div id="sidebar-toc" class="sidebar col-md-2">
	<nav id="toc" data-toggle="toc" class="sticky-top sticky-offset"></nav>
      </div>
    </div>
    </div><footer class="col-md-12">
  <nav class="container">
    <div class="row row-1">
      <div class="col-6">
	<a class="brand nav-link" href="http://developers.ringcentral.com/">Back to main site</a>
      </div>
      <div class="col-6">
	<ul class="nav flex-row ml-md-auto d-none d-md-flex pull-right">
	  <li class="nav-item"><a class="nav-link" href="http://www.ringcentral.com/legal.html">Legal</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://www.ringcentral.com/legal/privacy-notice.html">Privacy Notice</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://devcommunity.ringcentral.com/">Community</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://medium.com/ringcentral-developers">Blog</a></li>
	</ul>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
	<p>&copy;Copyright 2019 RingCentral Inc.</p>
      </div>
      <div class="col-6">
	<ul class="nav flex-row ml-md-auto d-none d-md-flex pull-right">
	  <li><a class="nav-link footer-image-link footer-image-link-facebook" href="http://www.facebook.com/ringcentral">
	      <i class="fa fa-facebook"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-twitter" href="http://twitter.com/ringcentraldevs">
	      <i class="fa fa-twitter"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-linkedin" href="http://www.linkedin.com/company/ringcentral">
	      <i class="fa fa-linkedin"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-youtube" href="http://www.youtube.com/ringcentral">
	      <i class="fa fa-youtube"></i></a></li>
	</ul>
      </div>
  </nav>
</footer>
    <script>
      var base_url = "../..",
          shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" defer></script>
    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js" defer></script>
    <script src="../../js/base.js" defer></script>
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" data-toc-skip>Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
  </body>
</html>
